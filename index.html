<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.6.0/dist/aframe-extras.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/BillyPung/mind-ar-js/mindar-image-aframe.prod.js"></script>
    <script type="importmap">
        {
          "imports": {
            "three": "https://unpkg.com/three@0.179.1/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@0.179.1/examples/jsm/",
            "mindar-image-three":"https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-three.prod.js"
          }
        }
    </script>
    <title>AR Demo</title>
</head>
<body>
<a-scene mindar-image="imageTargetSrc: ./assets/mind/armor-targets.mind;
        maxTrack: 1; filterMinCF: 0.0001; filterBeta: 0.01; warmupTolerance: 3;"
         color-space="sRGB" renderer="colorManagement: true, physicallyCorrectLights"
         vr-mode-ui="enabled: false" device-orientation-permission-ui="enabled: false">
    <a-assets>
        <img id="card" src="./assets/imgs/armor-target.png"/>
        <a-asset-item id="avatarModel" src="./assets/models/scene.gltf"></a-asset-item>
    </a-assets>

    <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

    <a-entity mindar-image-target="targetIndex: 0">
        <a-plane src="#card" position="0 0 0" height="0.552" width="1" rotation="0 0 0"></a-plane>
        <a-gltf-model rotation="180 0 180" position="0 0 0.5" scale="0.5 0.5 0.5" src="#avatarModel"
                      animation-mixer="clip: *; loop: repeat;"
                      animation="property: rotation; to: 180 360 180; dur: 15000; easing: linear; loop: true;">

        </a-gltf-model>
    </a-entity>
</a-scene>
</body>
</html>
